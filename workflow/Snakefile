configfile: "workflow/config/config.yaml"

include: "rules/setup.smk"
include: "rules/process_replicates.smk"
include: "rules/process_merges.smk"
include: "rules/email.smk"

rule all:
    input:
        [MERGES.format_template("results/{replicate}/matrix/{replicate}_ds{downsample}.mcool", \
            downsample = config['downsample'])] +
        [MERGES.format_template("results/{merge}/matrix/{merge}_ds{downsample}.mcool", \
            downsample = config['downsample'])]